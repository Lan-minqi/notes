# question


函数参数传递原理
new/malloc原理

mutex原理
coredump排查
性能调优

clickhouse原理


## es的索引,mapping
Mapping是为文档属性动态生成的映射
定义索引中的字段的名称
定义字段的数据类型，比如字符串、数字、布尔
字段，倒排索引的相关配置，比如设置某个字段为不被索引、记录 position 等

类型自动识别

倒排索引，不同于文章到词的映射关系, 构建了词和文章的映射关系表，词典+映射表即为倒排索引。有了倒排索引，就能提高通过关键词检索的效率

## es 搜索分词
1. 字符过滤器
  首先，字符串按顺序通过每个字符过滤器. 他们的任务是在分词前整理字符串. 一个字符过滤器可以用来去掉HTML，或者将 & 转化成and
1. 分词器
  其次，字符串被分词器分为单个的词条. 一个简单的分词器遇到空格和标点的时候，可能会将文本拆分成词条
1. 过滤器
  最后，词条按顺序通过每个token过滤器. 这个过程可能会改变词条（例如，小写化），删除词条（例如， 像 a， and， the 等无用词），或者增加词条（例如，像 jump 和 leap 这种同义词）

## mysql索引分类
1. 根据是否在主键上做划分
  每张表都必须有主键索引，主键索引只能有一个，不能为null同时必须保证唯一性。建表时如果没有指定主键索引，则会自动生成一个隐藏的字段作为主键索引  
  如果不是主键索引，则就可以称之为非主键索引，又可以称之为辅助索引或者二级索引。主键索引的叶子节点存储了完整的数据行，而非主键索引的叶子节点存储的则是主键索引值，通过非主键索引查询数据时，会先查找到主键索引，然后再到主键索引上去查找对应的数据
1. 索引的存储顺序和数据的存储顺序是否是关系的，有关就是聚簇索引，无关就是非聚簇索引

## mysql为什么用B+树做索引
索引往往以索引文件的形式存储在磁盘上, 这样的话，索引查找过程中就要产生磁盘I/O消耗，相对于内存存取，I/O存取的消耗要高几个数量级，所以评价一个数据结构作为索引的优劣最重要的指标就是在查找过程中磁盘I/O操作次数的渐进复杂度。而B+树更矮,I/O少, 适合做索引.

## m阶B树特点
每个节点至多可以拥有m棵子树。
根节点，只有至少有2个节点（要么极端情况，就是一棵树就一个根节点，单细胞生物，即是根，也是叶，也是树)。
非根非叶的节点至少有的Ceil(m/2)个子树(Ceil表示向上取整，图中5阶B树，每个节点至少有3个子树，也就是至少有3个叉)。
非叶节点中的信息包括[n,A0,K1,A1,K2,A2,…,Kn,An]，，其中n表示该节点中保存的关键字个数，K为关键字且Ki<Ki+1，A为指向子树根节点的指针。
从根到叶子的每一条路径都有相同的长度，也就是说，叶子节在相同的层，并且这些节点不带信息，实际上这些节点就表示找不到指定的值，也就是指向这些节点的指针为空。

## B+数特点
有n棵子树的节点含有n个关键字（也有认为是n-1个关键字）。
所有的关键字全部存储在叶子节点上，且叶子节点本身根据关键字自小而大顺序连接。
非叶子节点可以看成索引部分，节点中仅含有其子树（根节点）中的最大（或最小）关键字。

跳表
